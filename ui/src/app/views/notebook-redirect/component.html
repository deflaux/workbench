<app-top-box *ngIf="progress !== Progress.Loaded">
  <div style="display: flex; flex-direction: column; margin-left: 3rem; width: 780px; padding-top: 1rem">
    <div style="display: flex; flex-direction: row; justify-content: space-between; flex-grow: 1;">
      <h2 class="notebooks-header" *ngIf="!creating">Loading Notebook '{{notebookName}}'</h2>
      <h2 class="notebooks-header" *ngIf="creating">Creating New Notebook '{{notebookName}}'</h2>
      <button id="cancelButton" class="btn btn-secondary" style="margin-right: 0;" (click)="navigateBack()">Cancel</button>
    </div>
    <div class="progress-container">
      <div id="initializing" class="progress-card" [class.progress-card-current]="[Progress.Initializing, Progress.Resuming, Progress.Unknown].includes(progress)">
        <span *ngIf="[Progress.Initializing, Progress.Resuming, Progress.Unknown].includes(progress)" class="spinner spinner-sm"></span>
        <app-notebook-icon *ngIf="![Progress.Initializing, Progress.Resuming, Progress.Unknown].includes(progress)"></app-notebook-icon>
        <span *ngIf="progress === Progress.Unknown" class="progress-text">Connecting to notebook server...</span>
        <span *ngIf="(progress === Progress.Initializing || progressComplete[Progress.Initializing]) && !progressComplete[Progress.Resuming]" class="progress-text">Initializing notebook server, may take up to 5 minutes</span>
        <span *ngIf="progress === Progress.Resuming || progressComplete[Progress.Resuming]" class="progress-text">Resuming notebook server, may take up to 1 minute</span>
      </div>
      <div id="authenticating" class="progress-card" [class.progress-card-current]="progress === Progress.Authenticating">
        <span *ngIf="progress === Progress.Authenticating" class="spinner spinner-sm"></span>
        <clr-icon *ngIf="progress !== Progress.Authenticating" shape="success-standard" class="progress-icon" [class.progress-icon-done]="progressComplete[Progress.Authenticating]"></clr-icon>
        <span class="progress-text">Authenticating with the notebook server</span>
      </div>
      <div id="copying" *ngIf="!creating" class="progress-card" [class.progress-card-current]="progress === Progress.Copying">
        <span *ngIf="progress === Progress.Copying" class="spinner spinner-sm"></span>
        <clr-icon *ngIf="progress !== Progress.Copying" shape="copy" class="progress-icon" [class.progress-icon-done]="progressComplete[Progress.Copying]"></clr-icon>
        <span class="progress-text">Copying notebook onto the notebook server</span>
      </div>
      <div id="creating" *ngIf="creating" class="progress-card" [class.progress-card-current]="progress === Progress.Creating">
        <span *ngIf="progress === Progress.Creating" class="spinner spinner-sm"></span>
        <clr-icon *ngIf="progress !== Progress.Creating" shape="copy" class="progress-icon" [class.progress-icon-done]="progressComplete[Progress.Creating]"></clr-icon>
        <span class="progress-text">Creating the new notebook</span>
      </div>
      <div id="redirecting" class="progress-card" [class.progress-card-current]="progress === Progress.Redirecting">
        <span *ngIf="progress === Progress.Redirecting" class="spinner spinner-sm"></span>
        <clr-icon *ngIf="progress !== Progress.Redirecting" shape="circle-arrow" class="progress-icon" style="transform: rotate(90deg);" [class.progress-icon-done]="progressComplete[Progress.Redirecting]"></clr-icon>
        <span class="progress-text">Redirecting to the notebook server</span>
      </div>
    </div>
  </div>
</app-top-box>
<div *ngIf="progress === Progress.Redirecting || progress === Progress.Loaded" class="i-frame">
  <iframe id="leo-iframe" style="width:100%; height: 33rem;" frameBorder="0" [src]="leoUrl"></iframe>
</div>
